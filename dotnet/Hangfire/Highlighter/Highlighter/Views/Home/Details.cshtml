@* ~/Views/Home/Details.cshtml *@

@model Hangfire.Highlighter.Models.CodeSnippet
@{ ViewBag.Title = "Details"; }

<h2>Snippet <small>#@Model.Id</small></h2>

<div>
    <dl class="dl-horizontal">
        <dt>@Html.DisplayNameFor(model => model.CreatedAt)</dt>
        <dd>@Html.DisplayFor(model => model.CreatedAt)</dd>
        <dt>@Html.DisplayNameFor(model => model.HighlightedAt)</dt>
        <dd>@Html.DisplayFor(model => model.HighlightedAt)</dd>
    </dl>

    <div class="clearfix"></div>
</div>

<div>
    @if (Model.HighlightedCode == null)
    {
        <div class="alert alert-info">
            <h4>Highlighted code is not available yet.</h4>
            <p>
                Don't worry, it will be highlighted even in case of a disaster
                (if we implement failover strategies for our job storage).
            </p>
            <p>
                <a href="javascript:window.location.reload()">Reload the page</a>
                manually to ensure your code is highlighted.
            </p>
        </div>

        @Model.SourceCode
    }
    else
    {
        @Html.Raw(Model.HighlightedCode)
    }
</div>
