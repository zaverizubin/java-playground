<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cause Mapping</title>

    <script >mxBasePath = '';</script>
    <link rel="stylesheet" href="css/common.css" type="text/css" />
    <link rel="stylesheet" href="css/popupmenu.css" type="text/css" />
    <link rel="stylesheet" href="css/app.css" type="text/css" />
    <link rel="import" href="styles/cause-mapping-styles.html">
    <link rel="import" href="bower_components/vaadin-button/vaadin-button.html" />
    <link rel="import" href="bower_components/vaadin-select/vaadin-select.html" />
    <link rel="import" href="bower_components/vaadin-checkbox/vaadin-checkbox.html" />
    <link rel="import" href="bower_components/vaadin-text-field/vaadin-text-field.html" />
    <link rel="import" href="bower_components/vaadin-text-field/vaadin-number-field.html" />
    <link rel="import" href="bower_components/vaadin-dialog/vaadin-dialog.html" />
    <link rel="import" href="bower_components/vaadin-accordion/vaadin-accordion.html" />
    <link rel="import" href="bower_components/vaadin-icons/vaadin-icons.html">
    <link rel="import" href="bower_components/vaadin-grid/vaadin-grid.html">
    
</head>

<body>

    <div class="app-title"><span>Cause Mapping Diagram<span></div> 
            
    <div class="app">

        <div class="toolbar">
            <vaadin-accordion>
                <vaadin-accordion-panel>
                    <div slot="summary">Shapes</div>
                    <div class="diagram-menu">
                        <div id="svg-shapes-holder" class="menu-item svgshapes">
                            <div id="svg-shapes">
                                
                            </div>
                            <template id="rectangle-template">
                                <div id="rectangle-shape" draggable="true" style="background-color: transparent;">
                                    <svg width="100" height="75">
                                        <g>
                                            <rect x="0" y="0" width="100" height="75" stroke="[[stroke-color]]" fill="[[fill-color]]" stroke-width="1"></rect>
                                            <text x="20" y="45" font-family ="[[font-family]]" fill="[[text-color]]" font-weight="[[font-weight]]" font-style="[[font-style]]" text-decoration="[[text-decoration]]">[[text]]</text>
                                        </g>
                                    </svg>
                                </div>
                            </template>
                            <template id="rounded-rectangle-template">
                                <div id="rounded-rectangle-shape" draggable="true">
                                    <svg width="105" height="75">
                                        <g>
                                            <rect x="2" y="2" width="100" height="70" rx="10" ry="10" stroke="#6e91be" fill="#fffa82" stroke-width="1"></rect>
                                            <text x="25" y="45" font-family="arial" fill="#41648c" font-weight="normal" font-style="normal" text-decoration="none">Factor</text>
                                        </g>
                                    </svg>
                                </div>
                            </template>
                            <template id="circle-template">
                                <div id="circle-shape" draggable="true">
                                    <svg width="100" height="100">
                                        <g>
                                            <circle cx="50" cy="50" r="45" stroke="[[stroke-color]]" fill="[[fill-color]]"></circle>
                                            <text x="25" y="55" font-family ="[[font-family]]" fill="[[text-color]]" font-weight="[[font-weight]]" font-style="[[font-style]]" text-decoration="[[text-decoration]]">[[text]]</text>
                                        </g>
                                    </svg>
                                </div>
                            </template>
                            <template id="ellipse-template">
                                <div id="ellipse-shape" draggable="true">
                                    <svg width="105" height="70">
                                        <g>
                                            <ellipse cx="52" cy="35" rx="50" ry="30" stroke="#000000" fill="#e66465"></ellipse>
                                            <text x="20" y="40" font-family="arial" fill="#000000" font-weight="normal" font-style="normal" text-decoration="none">Outcome</text>
                                        </g>
                                    </svg>
                                </div>
                            </template>
                            <template id="diamond-template">
                                <div id="diamond-shape" draggable="true">
                                    <svg width="110" height="120">
                                        <g>
                                           <rect x="45" y="-30" width="75" height="75" transform="rotate(45)" stroke="#000000" fill="#e66465" stroke-width="1"></rect>
                                           <text x="20" y="65" font-family="arial" fill="#000000" font-weight="normal" font-style="normal" text-decoration="none">Outcome</text>
                                        </g>
                                    </svg>
                                </div>
                            </template>
                        </div>
                        <div class="menu-item">
                            <vaadin-button id="create-shape">Create Shapes</vaadin-button>
                        </div>
                    </div>
                </vaadin-accordion-panel>
                
                <vaadin-accordion-panel>
                    <div slot="summary">Tools</div>
                    <div class="tools">

                        <div class="menu-item">
                            <vaadin-number-field id="zoom-setting" value="0" label="Canvas Zoom" min="0" max="200" has-controls></vaadin-number-field>
                        </div>

                        <div class="menu-item">
                            <vaadin-button id="reset-zoom" class="">Reset Zoom</vaadin-button>
                        </div>

                        <div class="menu-item">
                            <vaadin-button id="clear-diagram" class="">Clear Diagram</vaadin-button>
                        </div>

                        <div class="menu-item">
                            <vaadin-button id="save-diagram" class="">Save Diagram</vaadin-button>
                        </div>

                        <div class="menu-item">
                            <vaadin-button id="load-diagram" class="">Load Diagram</vaadin-button>
                        </div>

                    </div>
                </vaadin-accordion-panel>
            </vaadin-accordion>
        </div>

        <div class="canvas"></div>
    </div>

    <vaadin-dialog id="shapes-dialog">
        <template>
                <vaadin-button id="add-shape" class="">Add Shape</vaadin-button>
                <vaadin-button id="restore-default" class="">Restore Defaults</vaadin-button>
                <vaadin-grid items='' id="shapes-grid">
                    <vaadin-grid-column width="240px">
                        <template class="header">Shape</template>
                        <template>
                            <vaadin-select value="{{item.shapeType}}" id="shape-type">
                                    <template>
                                        <vaadin-list-box>
                                            <vaadin-item value="rectangle">Rectangle</vaadin-item>
                                            <vaadin-item value="rounded-rectangle">Round Rectangle</vaadin-item>
                                            <vaadin-item value="circle">Circle</vaadin-item>
                                            <vaadin-item value="ellipse">Ellipse</vaadin-item>
                                            <vaadin-item value="diamond">Diamond</vaadin-item>
                                        </vaadin-list-box>
                                    </template>
                            </vaadin-select>
                        </template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="120px">
                      <template class="header">Text</template>
                      <template><vaadin-text-field id="shape-text" value="{{item.shapeText}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="190px">
                      <template class="header">Description</template>
                      <template><vaadin-text-field id="shape-description" value="{{item.shapeDescription}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="100px">
                      <template class="header">Stroke</template>
                      <template><input type="color" id="shape-stroke-color-[[index]]" value="{{item.shapeStrokeColor}}"></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="100px">
                      <template class="header">Fill</template>
                      <template><input type="color" id="shape-fill-color-[[index]]" value="{{item.shapeFillColor}}"></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="240px">
                        <template class="header">Font Family</template>
                        <template>
                            <vaadin-select id="shape-font-family" value="{{item.shapeFontFamily}}">
                                <template>
                                    <vaadin-list-box>
                                        <vaadin-item value="arial">Arial</vaadin-item>
                                        <vaadin-item value="calibri">Calibri</vaadin-item>
                                        <vaadin-item value="verdana">Verdana</vaadin-item>
                                        <vaadin-item value="times-new-roman">Times New Roman</vaadin-item>
                                    </vaadin-list-box>
                                </template>
                            </vaadin-select>
                        </template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="240px">
                        <template class="header">Font Size</template>
                        <template>
                            <vaadin-select id="shape-font-size" value="{{item.shapeFontSize}}">
                                <template>
                                    <vaadin-list-box>
                                        <vaadin-item value="10">10px</vaadin-item>
                                        <vaadin-item value="12">12px</vaadin-item>
                                        <vaadin-item value="14">14px</vaadin-item>
                                        <vaadin-item value="16">16px</vaadin-item>
                                        <vaadin-item value="18">18px</vaadin-item>
                                        <vaadin-item value="20">20px</vaadin-item>
                                        <vaadin-item value="22">22px</vaadin-item>
                                    </vaadin-list-box>
                                </template>
                            </vaadin-select>
                        </template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Text Color</template>
                        <template><input type="color" id="shape-text-color-[[index]]" value="{{item.shapeTextColor}}"></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="200px">
                        <template class="header">Font Style</template>
                        <template>
                            <vaadin-checkbox id="shape-text-bold" checked="{{item.shapeTextBold}}"><b>B</b></vaadin-checkbox>
                            <vaadin-checkbox id="shape-text-italic" checked="{{item.shapeTextItalic}}"><i>I</i></vaadin-checkbox>
                            <vaadin-checkbox id="shape-text-underline" checked="{{item.shapeTextUnderline}}"><u>U</u></vaadin-checkbox>
                        </template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="120px" id="grid-row-delete">
                        <template class="header">Delete</template>
                        <template>
                            <vaadin-button id="shape-delete-[[index]]">X</vaadin-button>
                        </template>
                    </vaadin-grid-column>
                </vaadin-grid>                        
        </template>    
    </vaadin-dialog>
    
                
    <vaadin-dialog id="message-window"></vaadin-dialog>
    
    <input type="file" name="file-input" id="file-input" style="position:absolute" accept=".xml" >

    <script  src="bower_components/webcomponentsjs/webcomponents-loader.js"></script>
    <script  src="lib/mxClient.min.js"></script>
    <script  src="lib/jquery.min.js"></script>
    <script  src="js/canvas.js"></script>
    <script  src="js/graphSettings.js"></script>
    <script  src="js/shapeDefinition.js"></script>
    <script  src="js/toolbar.js"></script>
    
    <script  src="app.js"></script>
</body>

</html>