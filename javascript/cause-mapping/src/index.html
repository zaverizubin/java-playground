<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cause Mapping</title>

    <script >mxBasePath = '';</script>
    <link rel="stylesheet" href="css/common.css" type="text/css" />
    <link rel="stylesheet" href="css/popupmenu.css" type="text/css" />
    <link rel="stylesheet" href="css/app.css" type="text/css" />
    <link rel="import" href="styles/cause-mapping-styles.html">
    <link rel="import" href="bower_components/vaadin-button/vaadin-button.html" />
    <link rel="import" href="bower_components/vaadin-select/vaadin-select.html" />
    <link rel="import" href="bower_components/vaadin-checkbox/vaadin-checkbox.html" />
    <link rel="import" href="bower_components/vaadin-text-field/vaadin-text-field.html" />
    <link rel="import" href="bower_components/vaadin-text-field/vaadin-number-field.html" />
    <link rel="import" href="bower_components/vaadin-dialog/vaadin-dialog.html" />
    <link rel="import" href="bower_components/vaadin-accordion/vaadin-accordion.html" />
    <link rel="import" href="bower_components/vaadin-icons/vaadin-icons.html">
    <link rel="import" href="bower_components/vaadin-grid/vaadin-grid.html">
    <link rel="import" href="bower_components/vaadin-tabs/vaadin-tabs.html">
    <link rel="import" href="bower_components/vaadin-ordered-layout/vaadin-vertical-layout.html">
    
</head>

<body>

    <div class="app-title"><span>Cause Mapping Diagram<span></div> 
            
    <div class="app">

        <div class="toolbar">
            <vaadin-accordion>
                <vaadin-accordion-panel>
                    <div slot="summary">Shapes</div>
                    <div class="shapes-menu">
                        <div id="svg-shapes-holder" class="menu-item svgshapes">
                            <div id="svg-shapes">
                                
                            </div>
                            <template id="rectangle-template">
                                <div id="rectangle-shape" title ="Add to graph">
                                    <svg width="100" height="75">
                                        <g>
                                            <rect x="0" y="0"  width="100" height="75" stroke="[[stroke-color]]" fill="[[fill-color]]" stroke-width="1"></rect>
                                            <text x="15" y="42" font-family ="[[font-family]]" fill="[[text-color]]" font-size="[[font-size]]" font-weight="[[font-weight]]" font-style="[[font-style]]" text-decoration="[[text-decoration]]">[[text]]</text>
                                            <svg class="plus-circle">
                                                <circle cx="85" cy="60" r="8" stroke-width="2" stroke="red" fill="#fff"></circle>
                                                <line x1="80" y1="60" x2="90" y2="60" stroke="#000" stroke-width="2"></line>
                                                <line x1="85" y1="55" x2="85" y2="65" stroke="#000" stroke-width="2"></line>
                                            </svg>
                                        </g>
                                    </svg>
                                </div>
                            </template>
                            <template id="rounded-rectangle-template">
                                <div id="rounded-rectangle-shape" title ="Add to graph">
                                    <svg width="105" height="75">
                                        <g>
                                            <rect x="2" y="2" width="100" height="70" rx="10" ry="10" stroke="[[stroke-color]]" fill="[[fill-color]]" stroke-width="1"></rect>
                                            <text x="25" y="40" font-family="[[font-family]]" fill="[[text-color]]" font-size="[[font-size]]" font-weight="[[font-weight]]" font-style="[[font-style]]" text-decoration="[[text-decoration]]">[[text]]</text>
                                            <svg class="plus-circle">
                                                <circle cx="85" cy="60" r="8" stroke-width="2" stroke="red" fill="#fff"></circle>
                                                <line x1="80" y1="60" x2="90" y2="60" stroke="#000" stroke-width="2"></line>
                                                <line x1="85" y1="55" x2="85" y2="65" stroke="#000" stroke-width="2"></line>
                                            </svg>
                                        </g>
                                    </svg>
                                </div>
                            </template>
                            <template id="ellipse-template">
                                <div id="ellipse-shape" title ="Add to graph">
                                    <svg width="105" height="90">
                                        <g>
                                            <ellipse cx="52" cy="45" rx="50" ry="40" stroke="[[stroke-color]]" fill="[[fill-color]]"></ellipse>
                                            <text x="30" y="50" font-family ="[[font-family]]" fill="[[text-color]]" font-size="[[font-size]]" font-weight="[[font-weight]]" font-style="[[font-style]]" text-decoration="[[text-decoration]]">Cause</text>
                                            <svg class="plus-circle">
                                                <circle cx="85" cy="60" r="8" stroke-width="2" stroke="red" fill="#fff"></circle>
                                                <line x1="80" y1="60" x2="90" y2="60" stroke="#000" stroke-width="2"></line>
                                                <line x1="85" y1="55" x2="85" y2="65" stroke="#000" stroke-width="2"></line>
                                            </svg>
                                        </g>
                                    </svg>
                                </div>
                            </template>
                            <template id="circle-template">
                                <div id="circle-shape" title ="Add to graph">
                                    <svg width="100" height="100">
                                        <g>
                                            <circle cx="50" cy="50" r="45" stroke="[[stroke-color]]" fill="[[fill-color]]"></circle>
                                            <text x="30" y="55" font-family ="[[font-family]]" fill="[[text-color]]" font-size="[[font-size]]" font-weight="[[font-weight]]" font-style="[[font-style]]" text-decoration="[[text-decoration]]">[[text]]</text>
                                            <svg class="plus-circle">
                                                <circle cx="85" cy="70" r="8" stroke-width="2" stroke="red" fill="#fff"></circle>
                                                <line x1="80" y1="70" x2="90" y2="70" stroke="#000" stroke-width="2"></line>
                                                <line x1="85" y1="65" x2="85" y2="75" stroke="#000" stroke-width="2"></line>
                                            </svg>
                                        </g>
                                    </svg>
                                </div>
                            </template>
                            <template id="diamond-template">
                                <div id="diamond-shape" title ="Add to graph">
                                    <svg width="110" height="120">
                                        <g>
                                           <rect x="45" y="-30" width="75" height="75" transform="rotate(45)" stroke="[[stroke-color]]" fill="[[fill-color]]" stroke-width="1"></rect>
                                           <text x="30" y="65" font-family="[[font-family]]" fill="[[text-color]]" font-size="[[font-size]]" font-weight="[[font-weight]]" font-style="[[font-style]]" text-decoration="[[text-decoration]]">[[text]]</text>
                                           <svg class="plus-circle">
                                                <circle cx="85" cy="80" r="8" stroke-width="2" stroke="red" fill="#fff"></circle>
                                                <line x1="80" y1="80" x2="90" y2="80" stroke="#000" stroke-width="2"></line>
                                                <line x1="85" y1="75" x2="85" y2="85" stroke="#000" stroke-width="2"></line>
                                            </svg>
                                        </g>
                                    </svg>
                                </div>
                            </template>
                        </div>
                        <div class="menu-item">
                            <vaadin-button id="create-shape">Create Shapes</vaadin-button>
                        </div>
                    </div>
                </vaadin-accordion-panel>
                
                <vaadin-accordion-panel>
                    <div slot="summary">Tools</div>
                    <div class="tools">

                        <div class="menu-item">
                            <vaadin-number-field id="zoom-setting" value="0" label="Canvas Zoom" min="0" max="200" has-controls></vaadin-number-field>
                        </div>

                        <div class="menu-item">
                            <vaadin-button id="reset-zoom" class="">Reset Zoom</vaadin-button>
                        </div>

                        <div class="menu-item">
                            <vaadin-button id="clear-diagram" class="">Clear Diagram</vaadin-button>
                        </div>

                        <div class="menu-item">
                            <vaadin-button id="save-diagram" class="">Save Diagram</vaadin-button>
                        </div>

                        <div class="menu-item">
                            <vaadin-button id="load-diagram" class="">Load Diagram</vaadin-button>
                        </div>

                    </div>
                </vaadin-accordion-panel>
            </vaadin-accordion>
        </div>

        <div class="canvas"></div>
    </div>

    <vaadin-dialog id="shapes-dialog">
        <template>
                <vaadin-button id="add-shape" class="">Add Shape</vaadin-button>
                <vaadin-button id="restore-default" class="">Restore Defaults</vaadin-button>
                <vaadin-grid items='' id="shapes-grid">
                    <vaadin-grid-column width="240px">
                        <template class="header">Shape</template>
                        <template>
                            <vaadin-select value="{{item.shapeType}}" id="shape-type">
                                    <template>
                                        <vaadin-list-box>
                                            <vaadin-item value="rectangle">Rectangle</vaadin-item>
                                            <vaadin-item value="rounded-rectangle">Round Rectangle</vaadin-item>
                                            <vaadin-item value="circle">Circle</vaadin-item>
                                            <vaadin-item value="ellipse">Ellipse</vaadin-item>
                                            <vaadin-item value="diamond">Diamond</vaadin-item>
                                        </vaadin-list-box>
                                    </template>
                            </vaadin-select>
                        </template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="120px">
                      <template class="header">Text</template>
                      <template><vaadin-text-field id="shape-text" value="{{item.shapeText}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="190px">
                      <template class="header">Description</template>
                      <template><vaadin-text-field id="shape-description" value="{{item.shapeDescription}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="100px">
                      <template class="header">Stroke</template>
                      <template><input type="color" id="shape-stroke-color-[[index]]" value="{{item.shapeStrokeColor}}"></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="100px">
                      <template class="header">Fill</template>
                      <template><input type="color" id="shape-fill-color-[[index]]" value="{{item.shapeFillColor}}"></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="240px">
                        <template class="header">Font Family</template>
                        <template>
                            <vaadin-select id="shape-font-family" value="{{item.shapeFontFamily}}">
                                <template>
                                    <vaadin-list-box>
                                        <vaadin-item value="arial">Arial</vaadin-item>
                                        <vaadin-item value="calibri">Calibri</vaadin-item>
                                        <vaadin-item value="verdana">Verdana</vaadin-item>
                                        <vaadin-item value="times-new-roman">Times New Roman</vaadin-item>
                                    </vaadin-list-box>
                                </template>
                            </vaadin-select>
                        </template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="240px">
                        <template class="header">Font Size</template>
                        <template>
                            <vaadin-select id="shape-font-size" value="{{item.shapeFontSize}}">
                                <template>
                                    <vaadin-list-box>
                                        <vaadin-item value="10">10px</vaadin-item>
                                        <vaadin-item value="12">12px</vaadin-item>
                                        <vaadin-item value="14">14px</vaadin-item>
                                        <vaadin-item value="16">16px</vaadin-item>
                                        <vaadin-item value="18">18px</vaadin-item>
                                        <vaadin-item value="20">20px</vaadin-item>
                                        <vaadin-item value="22">22px</vaadin-item>
                                    </vaadin-list-box>
                                </template>
                            </vaadin-select>
                        </template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Text Color</template>
                        <template><input type="color" id="shape-text-color-[[index]]" value="{{item.shapeTextColor}}"></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="200px">
                        <template class="header">Font Style</template>
                        <template>
                            <vaadin-checkbox id="shape-text-bold" checked="{{item.shapeTextBold}}"><b>B</b></vaadin-checkbox>
                            <vaadin-checkbox id="shape-text-italic" checked="{{item.shapeTextItalic}}"><i>I</i></vaadin-checkbox>
                            <vaadin-checkbox id="shape-text-underline" checked="{{item.shapeTextUnderline}}"><u>U</u></vaadin-checkbox>
                        </template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="120px" id="grid-row-delete">
                        <template class="header">Delete</template>
                        <template>
                            <vaadin-button id="shape-delete-[[index]]">X</vaadin-button>
                        </template>
                    </vaadin-grid-column>
                </vaadin-grid>                        
        </template>    
    </vaadin-dialog>
    
    <vaadin-dialog id="properties-window">
        <template>
            <vaadin-grid id="properties-grid">
                <vaadin-grid-column width="130px">
                    <template class="header">Property</template>
                    <template>{{item.label}}</template>
                </vaadin-grid-column>
                <vaadin-grid-column width="140px">
                  <template class="header">Value</template>
                  <template><div style= "float:left;width:20px; height:20px; background-color:{{item.color}}"></div>&nbsp;{{item.value}}</template>
                </vaadin-grid-column>
            </vaadin-grid>                        
        </template> 
    </vaadin-dialog>
    
    <vaadin-dialog id="shape-details">
       <template>
            <vaadin-button id="shape-notes-button" class="">Notes</vaadin-button>
            <vaadin-button id="shape-actions-button" class="">Actions</vaadin-button>
            <vaadin-button id="shape-evidence-button" class="">Evidence</vaadin-button>
            <vaadin-vertical-layout id="vertical-layout-notes">
                <vaadin-button id="add-shape-note" class="">Add Note</vaadin-button>
                <vaadin-grid id="shape-notes-grid">
                    <vaadin-grid-column width="20px">
                        <template class="header">ID</template>
                        <template>[[item.id]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="240px">
                        <template class="header">Description</template>
                        <template><vaadin-text-field value="{{item.description}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="250px">
                        <template class="header">Comments</template>
                        <template><vaadin-text-field value="{{item.comments}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="70px">
                        <template class="header">Delete</template>
                        <template><vaadin-button id="delete-note-[[index]]" class=""><b>X</b></vaadin-button></template>
                    </vaadin-grid-column>
                </vaadin-grid>
            </vaadin-vertical-layout>
            <vaadin-vertical-layout id="vertical-layout-actions">
                <vaadin-button id="add-shape-action" class="">Add Action</vaadin-button>
                <vaadin-grid id="shape-actions-grid">
                    <vaadin-grid-column width="20px">
                        <template class="header">ID</template>
                        <template>[[item.id]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="200px">
                        <template class="header">Description</template>
                        <template><vaadin-text-field value="{{item.description}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="100px">
                        <template class="header">Assigned To</template>
                        <template><vaadin-text-field value="{{item.assignedTo}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="100px">
                        <template class="header">Resources</template>
                        <template><vaadin-text-field value="{{item.resources}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="70px">
                        <template class="header">Start Date</template>
                        <template><vaadin-text-field value="{{item.startDate}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="70px">
                        <template class="header">End Date</template>
                        <template><vaadin-text-field value="{{item.endDate}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="70px">
                        <template class="header">Delete</template>
                        <template><vaadin-button id="delete-action-[[index]]" class=""><b>X</b></vaadin-button></template>
                    </vaadin-grid-column>
                </vaadin-grid>
            </vaadin-vertical-layout>    
            <vaadin-vertical-layout id="vertical-layout-evidence"> 
                <vaadin-button id="add-shape-evidence" class="">Add Evidence</vaadin-button>
                <vaadin-grid id="shape-evidence-grid">
                    <vaadin-grid-column width="20px">
                        <template class="header">ID</template>
                        <template>[[item.id]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="140px">
                        <template class="header">Description</template>
                        <template><vaadin-text-field value="{{item.description}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="140px">
                        <template class="header">Document Type</template>
                        <template><vaadin-text-field value="{{item.documentType}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="140px">
                        <template class="header">People</template>
                        <template><vaadin-text-field value="{{item.people}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="140px">
                        <template class="header">Date</template>
                        <template><vaadin-text-field value="{{item.date}}"></vaadin-text-field></template>
                    </vaadin-grid-column>
                    <vaadin-grid-column width="70px">
                        <template class="header">Delete</template>
                        <template><vaadin-button id="delete-evidence-[[index]]" class=""><b>X</b></vaadin-button></template>
                    </vaadin-grid-column>
                </vaadin-grid>
            </vaadin-vertical-layout>  
        </template> 
    </vaadin-dialog>
                
    
                
    <vaadin-dialog id="message-window"></vaadin-dialog>
    
    <input type="file" name="file-input" id="file-input" style="position:absolute" accept=".xml" >

    <script  src="bower_components/webcomponentsjs/webcomponents-loader.js"></script>
    <script  src="lib/mxClient.min.js"></script>
    <script  src="lib/jquery.min.js"></script>
    <script  src="js/canvas.js"></script>
    <script  src="js/dragNdrop.js"></script>
    <script  src="js/graphConfiguration.js"></script>
    <script  src="js/graphSettings.js"></script>
    <script  src="js/graphShapeBuilder.js"></script>
    <script  src="js/messages.js"></script>
    <script  src="js/shapeDefinitionBuilder.js"></script>
    <script  src="js/shapeDetailsBuilder.js"></script>
    <script  src="js/shapeProperty.js"></script>
    <script  src="js/toolbar.js"></script>
    <script  src="js/utils.js"></script>
    
    <script  src="app.js"></script>
</body>

</html>